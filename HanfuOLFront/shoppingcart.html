<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>购物车</title>
	<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css">
	<style>
		body {
			padding-top: 20px;
		}
		table {
			margin-bottom: 20px;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>购物车</h1>
		<a href="index.html" class="btn btn-primary" style="float: right;">返回首页</a> <!-- 添加返回首页的按钮 -->
		<table class="table">
			<thead>
				<tr>
					<th></th>
					<th>商品名称</th>
					<th>单价</th>
					<th>数量</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><input type="checkbox"></td>
					<td>Apple iPhone 13 512GB</td>
					<td>￥8999.00</td>
					<td><input type="number" min="1" value="1"></td>
				</tr>
				<tr>
					<td><input type="checkbox"></td>
					<td>Samsung Galaxy S21 256GB</td>
					<td>￥5999.00</td>
					<td><input type="number" min="1" value="1"></td>
				</tr>
			</tbody>
		</table>
		<hr>
		<div class="row g-3">
			<div class="col-md-6">
				<h2>结算信息</h2>
				<form>
					<div class="mb-3">
						<label for="name" class="form-label">姓名</label>
						<input type="text" class="form-control" id="name">
					</div>
					<div class="mb-3">
						<label for="email" class="form-label">邮箱</label>
						<input type="email" class="form-control" id="email">
					</div>
					<button type="submit" class="btn btn-primary">确认结算</button>
				</form>
			</div>
			<div class="col-md-6">
				<h2>订单总额</h2>
				<table class="table">
					<tbody>
						<tr>
							<td>商品总价</td>
							<td id="subtotal">￥0.00</td>
						</tr>
						<tr>
							<td>运费</td>
							<td>￥0.00</td>
						</tr>
						<tr>
							<td>优惠券</td>
							<td>-￥0.00</td>
						</tr>
						<tr>
							<th>总计</th>
							<th id="total">￥0.00</th>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		$(function () {
			// 更新订单总额
			function updateTotal() {
				var subtotal = 0;
				$("table tbody tr").each(function () {
					var price = parseFloat($(this).find("td:nth-child(3)").text().substring(1));
					var quantity = parseInt($(this).find("input[type='number']").val());
					if ($(this).find("input[type='checkbox']").is(":checked")) {
						subtotal += price * quantity;
					}
				});
				$("#subtotal").text("￥" + subtotal.toFixed(2));
				$("#total").text("￥" + subtotal.toFixed(2));
			}

			// 监听复选框和数量输入框的变化
			$("input[type='checkbox'], input[type='number']").on("change", updateTotal);
		});
	</script>
</body>
</html>